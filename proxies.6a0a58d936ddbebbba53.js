(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/Uh6":function(e,t,n){e.exports={proxyLatency:"_2tHS8vcjWZ"}},"0tMl":function(e,t,n){e.exports={topBar:"_1vpeUMroNJ",settingBtnContainer:"_2fxAc3OESk",group:"_2gOPGelc7s",spining:"_3BayoLOhA0",spining_keyframes:"NKvZlK5zKz"}},"5JRb":function(e,t,n){e.exports={labeledInput:"_1h4Qixiwxj"}},MR5J:function(e,t,n){e.exports={FlexCenter:"W_0q0BiEOR"}},RL2M:function(e,t,n){e.exports={header:"_37wt2_a2Gx",arrow:"L80zPM0Rx0",isOpen:"_36RO7_wtuv",btn:"_2XKN3NArpV",qty:"_1s98xvUoBx"}},UVHL:function(e,t,n){e.exports={select:"t6lsDKNXTK"}},UmKA:function(e,t,n){e.exports={overlay:"_2OKIZuCJtW",cnt:"_1y6NeshM4O",afterOpen:"_25KARE4UsT"}},agpB:function(e,t,n){e.exports={updatedAt:"_2PJqMIeTLt",body:"_2bdge0dkRf",actionFooter:"Vp69gn8Y28",refresh:"_32jty5m2Ss"}},drH3:function(e,t,n){e.exports={list:"_1Zy60rJawW",listSummaryView:"_1YJnElh2Sr"}},kCV3:function(e,t,n){"use strict";n.r(t);n("2B1R");var a=n("ODXe"),r=n("q1tI"),c=n.n(r),l=n("WfPo"),o=n("n57c"),i=n("DKqX"),s=(n("TeQF"),n("yXV3"),n("ToJy"),n("KQm4")),u=n("o0o1"),m=n.n(u),p=(n("ls82"),n("HaE+")),d=n("Wwog"),f=n("ySHw"),v=n("GmYy"),y=n("OADI"),b=n("j7o3"),E=n("iuhU"),h=n("riol"),O=n("RL2M"),x=n.n(O);function g(e){var t=e.name,n=e.type,a=e.toggle,r=e.isOpen,l=e.qty;return c.a.createElement("div",{className:x.a.header},c.a.createElement("div",{onClick:a,style:{cursor:"pointer"}},c.a.createElement(h.b,{name:t,type:n})),"number"==typeof l?c.a.createElement("span",{className:x.a.qty},l):null,c.a.createElement(o.a,{kind:"minimal",onClick:a,className:x.a.btn},c.a.createElement("span",{className:Object(E.a)(x.a.arrow,{[x.a.isOpen]:r})},c.a.createElement(b.a,{size:20}))))}var C=n("/Uh6"),w=n.n(C);function j(e){var t=e.number,n=e.color;return r.createElement("span",{className:w.a.proxyLatency,style:{color:n}},r.createElement("span",null,t," ms"))}var k=n("wztZ"),N=n.n(k),_=r.useMemo,S="#67c23a",A="#d4b75c",B="#e67f3c",P="#909399";function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.number;return t<200?S:t<400?A:"number"==typeof t?B:P}var R=function(e,t){var n=t.name,a=Object(v.e)(e),r=Object(v.d)(e);return{proxy:a[n],latency:r[n]}},L=Object(l.a)(R)((function(e){var t=e.now,n=e.name,a=e.proxy,c=e.latency,l=e.isSelectable,o=e.onClick,i=_((function(){return M(c)}),[c]);return r.createElement("div",{className:Object(E.a)(N.a.proxy,{[N.a.now]:t,[N.a.error]:c&&c.error,[N.a.selectable]:l}),onClick:function(){l&&o&&o(n)}},r.createElement("div",{className:N.a.proxyName},n),r.createElement("div",{className:N.a.row},r.createElement("span",{className:N.a.proxyType,style:{opacity:t?.6:.2}},a.type),c&&c.number?r.createElement(j,{number:c.number,color:i}):null))})),D=Object(l.a)(R)((function(e){var t=e.now,n=e.name,a=e.proxy,c=e.latency,l=e.isSelectable,o=e.onClick,i=_((function(){return function(e,t){return v.a.indexOf(t)>-1?"linear-gradient(135deg, white 15%, #999 15% 30%, white 30% 45%, #999 45% 60%, white 60% 75%, #999 75% 90%, white 90% 100%)":M(e)}(c,a.type)}),[c,a]),s=_((function(){var e=n;return c&&"number"==typeof c.number&&(e+=" "+c.number+" ms"),e}),[n,c]);return r.createElement("div",{title:s,className:Object(E.a)(N.a.proxySmall,{[N.a.now]:t,[N.a.selectable]:l}),style:{background:i},onClick:function(){l&&o&&o(n)}})})),K=n("drH3"),U=n.n(K);function T(e){var t=e.all,n=e.now,a=e.isSelectable,c=e.itemOnTapCallback,l=t;return r.createElement("div",{className:U.a.list},l.map((function(e){return r.createElement(L,{key:e,onClick:c,isSelectable:a,name:e,now:e===n})})))}function q(e){var t=e.all,n=e.now,a=e.isSelectable,c=e.itemOnTapCallback;return r.createElement("div",{className:U.a.listSummaryView},t.map((function(e){return r.createElement(D,{key:e,onClick:c,isSelectable:a,name:e,now:e===n})})))}var I=n("xKoM"),z=n.n(I),Z=r.createElement,H=r.useCallback,J=r.useMemo,F=r.useState;function V(){return r.createElement("div",{className:z.a.zapWrapper},r.createElement(f.a,{size:16}))}var W=function(e,t){if(e&&"number"==typeof e.number&&e.number>0)return e.number;var n=t&&t.type;return n&&v.a.indexOf(n)>-1?999998:999999};var Y={Natural:function(e){return e},LatencyAsc:function(e,t,n){return e.sort((function(e,a){return W(t[e],n&&n[e])-W(t[a],n&&n[a])}))},LatencyDesc:function(e,t,n){return e.sort((function(e,a){var r=W(t[e],n&&n[e]);return W(t[a],n&&n[a])-r}))},NameAsc:function(e){return e.sort()},NameDesc:function(e){return e.sort((function(e,t){return e>t?-1:e<t?1:0}))}};var G=Object(d.a)((function(e,t,n,a,r){var c=Object(s.a)(e);return n&&(c=function(e,t){return e.filter((function(e){var n=t[e];return void 0===n||!n.error&&0!==n.number}))}(e,t)),Y[a](c,t,r)})),X=Object(l.a)((function(e,t){var n=t.name,a=t.delay,r=Object(v.e)(e),c=Object(y.d)(e),l=Object(y.g)(e),o=Object(y.e)(e),i=r[n],s=i.all,u=i.type,m=i.now;return{all:G(s,a,o,l,r),type:u,now:m,isOpen:c["proxyGroup:"+n]}}))((function(e){var t=e.name,n=e.all,c=e.type,i=e.now,s=e.isOpen,u=e.apiConfig,d=e.dispatch,f=J((function(){return"Selector"===c}),[c]),y=Object(l.c)(),b=y.app.updateCollapsibleIsOpen,E=y.proxies.requestDelayForProxies,h=H((function(){b("proxyGroup",t,!s)}),[s,b,t]),O=H((function(e){f&&d(Object(v.l)(u,t,e))}),[u,d,t,f]),x=F(!1),C=Object(a.a)(x,2),w=C[0],j=C[1],k=H(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,E(u,n);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:j(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),[n,u,E]);return r.createElement("div",{className:z.a.group},r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(g,{name:t,type:c,toggle:h,qty:n.length,isOpen:s}),r.createElement(o.a,{kind:"minimal",onClick:k,isLoading:w},r.createElement(V,null))),Z(s?T:q,{all:n,now:i,isSelectable:f,itemOnTapCallback:O}))})),Q=n("9rZX"),$=n.n(Q),ee=n("Z9Yo"),te=n.n(ee),ne=n("UmKA"),ae=n.n(ne),re=r.useMemo;function ce(e){var t=e.isOpen,n=e.onRequestClose,a=e.children,c=re((function(){return{base:Object(E.a)(te.a.content,ae.a.cnt),afterOpen:ae.a.afterOpen,beforeClose:""}}),[]);return r.createElement($.a,{isOpen:t,onRequestClose:n,className:c,overlayClassName:Object(E.a)(te.a.overlay,ae.a.overlay)},a)}var le=n("hkBY"),oe=n("UVHL"),ie=n.n(oe);function se(e){var t=e.options,n=e.selected,c=e.onChange;return r.createElement("select",{className:ie.a.select,value:n,onChange:c},t.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return r.createElement("option",{key:n,value:n},c)})))}var ue=n("5JRb"),me=n.n(ue),pe=[["Natural","Original order in config file"],["LatencyAsc","By latency from small to big"],["LatencyDesc","By latency from big to small"],["NameAsc","By name alphabetically (A-Z)"],["NameDesc","By name alphabetically (Z-A)"]],de=r.useCallback;var fe=Object(l.a)((function(e){return{appConfig:{proxySortBy:Object(y.g)(e),hideUnavailableProxies:Object(y.e)(e),autoCloseOldConns:Object(y.b)(e)}}}))((function(e){var t=e.appConfig,n=Object(l.c)().app.updateAppConfig,a=de((function(e){n("proxySortBy",e.target.value)}),[n]),c=de((function(e){n("hideUnavailableProxies",e)}),[n]);return r.createElement(r.Fragment,null,r.createElement("div",{className:me.a.labeledInput},r.createElement("span",null,"Sorting in group"),r.createElement("div",null,r.createElement(se,{options:pe,selected:t.proxySortBy,onChange:a}))),r.createElement("hr",null),r.createElement("div",{className:me.a.labeledInput},r.createElement("span",null,"Hide unavailable proxies"),r.createElement("div",null,r.createElement(le.a,{name:"hideUnavailableProxies",checked:t.hideUnavailableProxies,onChange:c}))),r.createElement("div",{className:me.a.labeledInput},r.createElement("span",null,"Automatically close old connections"),r.createElement("div",null,r.createElement(le.a,{name:"autoCloseOldConns",checked:t.autoCloseOldConns,onChange:function(e){return n("autoCloseOldConns",e)}}))))})),ve=n("MR5J"),ye=n.n(ve);function be(e){var t=e.children;return r.createElement("div",{className:ye.a.FlexCenter},t)}var Ee=r.useRef,he=r.useEffect;function Oe(e){var t=e.onClickPrimaryButton,n=e.onClickSecondaryButton,a=Ee(null),c=Ee(null);he((function(){a.current.focus()}),[]);return r.createElement("div",{onKeyDown:function(e){39===e.keyCode?c.current.focus():37===e.keyCode&&a.current.focus()}},r.createElement("h2",null,"Close Connections?"),r.createElement("p",null,'Click "Yes" to close those connections that are still using the old selected proxy in this group'),r.createElement("div",{style:{height:30}}),r.createElement(be,null,r.createElement(o.a,{onClick:t,ref:a},"Yes"),r.createElement("div",{style:{width:20}}),r.createElement(o.a,{onClick:n,ref:c},"No")))}function xe(e){var t=e.color,n=void 0===t?"currentColor":t,a=e.size,c=void 0===a?24:a;return r.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:c,height:c,stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{d:"M2 6h9M18.5 6H22"}),r.createElement("circle",{cx:"16",cy:"6",r:"2"}),r.createElement("path",{d:"M22 18h-9M6 18H2"}),r.createElement("circle",{r:"2",transform:"matrix(-1 0 0 1 8 18)"}))}var ge=n("OAQO"),Ce=n("FVam"),we=n("ZMKu"),je=n("bdgK"),ke=c.a.memo,Ne=c.a.useState,_e=c.a.useRef,Se=c.a.useEffect;var Ae={initialOpen:{height:"auto",transition:{duration:0}},open:function(e){return{height:e,opacity:1,visibility:"visible",transition:{duration:.3}}},closed:{height:0,opacity:0,visibility:"hidden",transition:{duration:.3}}},Be={open:{x:0},closed:{x:20}},Pe=ke((function(e){var t,n,r=e.children,l=e.isOpen,o=(t=l,n=_e(),Se((function(){n.current=t}),[t]),n.current),i=function(){var e=_e(),t=Ne({height:0}),n=Object(a.a)(t,2),r=n[0],c=n[1];return Se((function(){var t=new je.a((function(e){var t=Object(a.a)(e,1)[0];return c(t.contentRect)}));return e.current&&t.observe(e.current),function(){return t.disconnect()}}),[]),[e,r]}(),s=Object(a.a)(i,2),u=s[0],m=s[1].height;return c.a.createElement("div",null,c.a.createElement(we.a.div,{animate:l&&o===l?"initialOpen":l?"open":"closed",custom:m,variants:Ae},c.a.createElement(we.a.div,{variants:Be,ref:u},r)))})),Me=n("agpB"),Re=n.n(Me),Le=r.useState,De=r.useCallback;var Ke={rest:{scale:1},pressed:{scale:.95}},Ue={rest:{rotate:0},hover:{rotate:360,transition:{duration:.3}}};function Te(){return r.createElement(we.a.div,{className:Re.a.refresh,variants:Ke,initial:"rest",whileHover:"hover",whileTap:"pressed"},r.createElement(we.a.div,{className:"flexCenter",variants:Ue},r.createElement(ge.a,{size:16})))}var qe=Object(l.a)((function(e,t){var n=t.proxies,a=t.name,r=Object(y.e)(e),c=Object(v.d)(e),l=Object(y.d)(e),o=Object(y.c)(e),i=Object(y.g)(e);return{apiConfig:o,proxies:G(n,c,r,i),isOpen:l["proxyProvider:"+a]}}))((function(e){var t=e.name,n=e.proxies,c=e.vehicleType,i=e.updatedAt,s=e.isOpen,u=e.dispatch,d=e.apiConfig,y=Le(!1),b=Object(a.a)(y,2),E=b[0],h=b[1],O=De((function(){return u(Object(v.m)(d,t))}),[d,u,t]),x=De(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,u(Object(v.i)(d,t));case 3:h(!1);case 4:case"end":return e.stop()}}),e)}))),[d,u,t,h]),C=Object(l.c)().app.updateCollapsibleIsOpen,w=De((function(){C("proxyProvider",t,!s)}),[s,C,t]),j=Object(Ce.a)(new Date(i),new Date);return r.createElement("div",{className:Re.a.body},r.createElement(g,{name:t,toggle:w,type:c,isOpen:s,qty:n.length}),r.createElement("div",{className:Re.a.updatedAt},r.createElement("small",null,"Updated ",j," ago")),r.createElement(Pe,{isOpen:s},r.createElement(T,{all:n}),r.createElement("div",{className:Re.a.actionFooter},r.createElement(o.a,{text:"Update",start:r.createElement(Te,null),onClick:O}),r.createElement(o.a,{text:"Health Check",start:r.createElement(f.a,{size:16}),onClick:x,isLoading:E}))),r.createElement(Pe,{isOpen:!s},r.createElement(q,{all:n})))}));function Ie(e){var t=e.items;return 0===t.length?null:r.createElement(r.Fragment,null,r.createElement(i.a,{title:"Proxy Provider"}),r.createElement("div",null,t.map((function(e){return r.createElement(qe,{key:e.name,name:e.name,proxies:e.proxies,type:e.type,vehicleType:e.vehicleType,updatedAt:e.updatedAt})}))))}var ze=n("9cvt"),Ze=n("0tMl"),He=n.n(Ze),Je=r.useState,Fe=r.useEffect,Ve=r.useCallback,We=r.useRef;function Ye(){return r.createElement("div",{className:He.a.spining,style:{width:48,height:48,display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(f.a,{width:16,height:16}))}t.default=Object(l.a)((function(e){return{apiConfig:Object(y.c)(e),groupNames:Object(v.f)(e),proxyProviders:Object(v.g)(e),delay:Object(v.d)(e),showModalClosePrevConns:Object(v.h)(e)}}))((function(e){var t=e.dispatch,n=e.groupNames,c=e.delay,s=e.proxyProviders,u=e.apiConfig,m=e.showModalClosePrevConns,p=We({}),d=Je(!1),y=Object(a.a)(d,2),b=y[0],E=y[1],h=Ve((function(){b||(E(!0),t(Object(v.k)(u)).then((function(){return E(!1)}),(function(){return E(!1)})))}),[u,t,b]),O=Ve((function(){p.current.startAt=Date.now(),t(Object(v.c)(u)).then((function(){p.current.completeAt=Date.now()}))}),[u,t]);Fe((function(){O();var e=function(){p.current.startAt&&Date.now()-p.current.startAt>3e4&&O()};return window.addEventListener("focus",e,!1),function(){return window.removeEventListener("focus",e,!1)}}),[O]);var x=Je(!1),g=Object(a.a)(x,2),C=g[0],w=g[1],j=Ve((function(){w(!1)}),[]),k=Object(l.c)().proxies,N=k.closeModalClosePrevConns,_=k.closePrevConnsAndTheModal;return r.createElement(r.Fragment,null,r.createElement(ce,{isOpen:C,onRequestClose:j},r.createElement(fe,null)),r.createElement("div",{className:He.a.topBar},r.createElement(i.a,{title:"Proxies"}),r.createElement("div",{className:He.a.settingBtnContainer},r.createElement(o.a,{kind:"minimal",onClick:function(){return w(!0)}},r.createElement(xe,{size:16})))),r.createElement("div",null,n.map((function(e){return r.createElement("div",{className:He.a.group,key:e},r.createElement(X,{name:e,delay:c,apiConfig:u,dispatch:t}))}))),r.createElement(Ie,{items:s}),r.createElement("div",{style:{height:60}}),r.createElement(ze.b,{icon:b?r.createElement(Ye,null):r.createElement(f.a,{width:16,height:16}),onClick:h,text:"Test Latency",position:ze.c}),r.createElement(ce,{isOpen:m,onRequestClose:N},r.createElement(Oe,{onClickPrimaryButton:function(){return _(u)},onClickSecondaryButton:N})))}))},wztZ:function(e,t,n){e.exports={proxy:"_1OypGPFF1I",now:"_25Vy0R3DBh",error:"_20b8CxdJZg",selectable:"_2jncDUnzU1",proxyType:"_3ILPKOrew2",row:"_3DtTZsIYVP",proxyName:"_2dGvkUlaDx",proxySmall:"_1fX-k2HS41"}},xKoM:function(e,t,n){e.exports={header:"WqD74l0KeZ",zapWrapper:"_3u5R6urbB9"}}}]);